(function(e){function t(t){for(var r,i,l=t[0],o=t[1],c=t[2],d=0,m=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,l=1;l<a.length;l++){var o=a[l];0!==s[o]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},s={app:0},n=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=o;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1608:function(e,t,a){},2185:function(e,t,a){},"2ec8":function(e,t,a){},"39ce":function(e,t,a){"use strict";var r=a("88ef"),s=a.n(r);s.a},"3b08":function(e,t,a){"use strict";var r=a("2185"),s=a.n(r);s.a},"3fb4":function(e,t,a){"use strict";var r=a("2ec8"),s=a.n(r);s.a},4137:function(e,t,a){"use strict";var r=a("5558"),s=a.n(r);s.a},"467b":function(e,t,a){},"49ef":function(e,t,a){"use strict";var r=a("d6ee"),s=a.n(r);s.a},"4a4e":function(e,t,a){"use strict";var r=a("c517"),s=a.n(r);s.a},5047:function(e,t,a){},5558:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("0cdd");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},n=[],i={},l=i,o=a("2877"),c=Object(o["a"])(l,s,n,!1,null,null,null),u=c.exports,d=(a("99af"),a("2909")),m=a("8c4f"),p=(a("96cf"),a("1da1")),f=a("2f62"),v={namespaced:!0,state:{data:{}},mutations:{set:function(e,t){e.data=t}}},b=(a("7db0"),{namespaced:!0,state:{data:null,config:null},mutations:{set:function(e,t){e.data=t},config:function(e,t){e.config=t}},actions:{get:function(e,t){var a=e.dispatch;return Object(p["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a("all");case 2:return r=e.sent,e.abrupt("return",r.find((function(e){return e.id===t})));case 4:case"end":return e.stop()}}),e)})))()}}}),h=(a("d3b7"),{set:function(e){window.localStorage.setItem("access_token",e)},get:function(){return window.localStorage.getItem("access_token")},del:function(){window.localStorage.removeItem("access_token")}}),_={namespaced:!0,state:{data:null},mutations:{set:function(e,t){e.data=t}},actions:{userLogin:function(e,t){var a=e.commit;return Object(p["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.axios.post("/user/login",t);case 2:return r=e.sent,h.set(r.data.token),a("set",r.data.data),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))()},adminLogin:function(e,t){var a=e.commit;return Object(p["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.axios.post("/system/login",t);case 2:return r=e.sent,h.set(r.data.token),a("set",r.data.data),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))()},get:function(e){var t=e.state,a=e.commit;return Object(p["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.data){e.next=2;break}return e.abrupt("return",Promise.resolve(t.data));case 2:return e.next=4,window.axios.get("/user/get");case 4:return r=e.sent,a("set",r.data.data),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))()},adminLogout:function(e){var t=e.commit;t("set",{}),h.del(),Fr.push("/admin/login")}}},x={namespaced:!0,state:{data:null},mutations:{set:function(e,t){e.data=t}},actions:{get:function(e){var t=e.commit;return Object(p["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.axios.get("/system/config/1");case 2:return a=e.sent,t("set",a.data.data),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()}}};r["default"].use(f["a"]);var y=new f["a"].Store({modules:{systemConfig:x,error:v,site:b,user:_}}),k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{"label-width":"100px",model:e.setting}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本设置",name:"base"}},[a("el-row",{attrs:{gutter:20}},[e.setting.base?a("el-col",{attrs:{xs:24,md:12}},[a("el-form-item",{attrs:{label:"后台名称"}},[a("el-input",{attrs:{placeholder:"用于在浏览器标签中显示的名称"},model:{value:e.setting.base.name.value,callback:function(t){e.$set(e.setting.base.name,"value",t)},expression:"setting.base.name.value"}})],1),a("el-form-item",{attrs:{label:"后台标志"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,accept:"image/jpeg, image/png","show-file-list":!1,"on-success":e.logoUpload,headers:e.headers}},[e.setting.base.logo.value?a("img",{staticClass:"avatar",attrs:{src:e.setting.base.logo.value}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"后台页脚"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"在后面底部显示的内容"},model:{value:e.setting.base.footer.value,callback:function(t){e.$set(e.setting.base.footer,"value",t)},expression:"setting.base.footer.value"}})],1)],1):e._e()],1)],1),a("el-tab-pane",{attrs:{label:"用户相关",name:"register"}},[a("el-row",{attrs:{gutter:20}},[e.setting.register?a("el-col",{attrs:{xs:24,md:12}},[a("el-form-item",{attrs:{label:"体验天数"}},[a("el-input",{attrs:{placeholder:"可使用后台管理权限的天数"},model:{value:e.setting.register.days.value,callback:function(t){e.$set(e.setting.register.days,"value",t)},expression:"setting.register.days.value"}},[a("template",{slot:"append"},[e._v("天")])],2)],1),a("el-form-item",{attrs:{label:"默认会员组"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.setting.register.group_id.value,callback:function(t){e.$set(e.setting.register.group_id,"value",t)},expression:"setting.register.group_id.value"}},e._l(e.groups,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1):e._e()],1)],1)],1),a("el-divider",[a("i",{staticClass:"el-icon-arrow-up"})]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("保存提交")])],1)],1)},w=[],C=(a("3ca3"),a("ddb0"),{data:function(){return{activeName:"base",setting:{base:null,register:null},groups:[]}},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.axios.get("/system/group"),e.axios.get("/system/config/1")]);case 2:a=t.sent,e.groups=a[0].data.data,e.setting=a[1].data.data;case 5:case"end":return t.stop()}}),t)})))()},computed:{uploadUrl:function(){return"".concat(window.api,"/system/upload")},headers:function(){return{Authorization:"Bearer ".concat(h.get())}}},methods:{logoUpload:function(e,t){this.setting.base.logo.value=e},update:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.post("/system/config",{data:e.setting});case 2:return t.next=4,e.$store.dispatch("systemConfig/get");case 4:e.$message.success("更新成功");case 5:case"end":return t.stop()}}),t)})))()}}}),$=C,j=Object(o["a"])($,k,w,!1,null,null,null),O=j.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-container"},[a("error"),a("navigate"),a("quick-menu",{staticClass:"m-3 mt-5"}),a("div",{staticClass:"card m-2 m-3 mt-5"},[a("div",{staticClass:"card-body"},[a("transition",{attrs:{name:"slide"}},[a("router-view")],1)],1)]),a("copyright")],1)},E=[],N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navigate shadow-lg"},[a("div",{staticClass:"container-fluid"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark shadow"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}}),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},e._l(e.menus,(function(t,r){return!t.check||e.user.is_super_admin?a("li",{key:r,staticClass:"nav-item mr-4"},[a("router-link",{staticClass:"nav-link",attrs:{to:t.url}},[a("i",{class:"fa "+t.icon}),e._v(" "+e._s(t.title)+" ")])],1):e._e()})),0),a("form",{staticClass:"form-inline my-2 my-lg-0"},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(e.user.name)+" ")]),a("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbarDropdown"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("修改资料")]),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("退出登录")])])])])])])])])])},S=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],P=a("5530"),T={data:function(){return{menus:[{title:"站点管理",icon:"fa fa-sitemap",url:"/site/index",check:!1},{title:"模块管理",icon:"fa-cubes",url:"/system/module/index",check:!0},{title:"服务套餐",icon:"fa-comments-o",url:"/system/package/index",check:!0},{title:"系统设置",icon:"fa-support",url:"/system/index",check:!0},{title:"更新缓存",icon:"fa-bitbucket",url:"/admin",check:!0},{title:"在线文档",icon:"fa-file-code-o",url:"/admin",check:!1}]}},computed:Object(P["a"])({},Object(f["c"])("user",{user:"data"})),methods:Object(P["a"])({},Object(f["b"])("user",["logout"]))},B=T,U=(a("7b2b"),Object(o["a"])(B,N,S,!1,null,"64e538d8",null)),L=U.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"d-none d-sm-block"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 logo"}),a("div",{staticClass:"col-6 text-right menu"},[a("router-link",{attrs:{to:{name:"site.index"}}},[a("i",{staticClass:"fa fa-sitemap fa-2x d-block"}),e._v("网站管理 ")]),e.user.is_super_admin?a("router-link",{attrs:{to:"/system/index"}},[a("i",{staticClass:"fa fa-support fa-2x d-block"}),e._v("系统设置 ")]):e._e(),a("a",{staticClass:"tile",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.adminLogout(t)}}},[a("i",{staticClass:"fa fa-sign-out fa-2x d-block"}),e._v(" 退出 ")])],1)])])])},A=[],I={methods:Object(P["a"])({},Object(f["b"])("user",["adminLogout"])),computed:Object(P["a"])({},Object(f["c"])("user",{user:"data"}))},M=I,F=(a("49ef"),Object(o["a"])(M,D,A,!1,null,"5049036b",null)),K=F.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row mt-5 mb-3"},[a("div",{staticClass:"col-12 text-center small text-secondary"},[a("div",{staticClass:"text-dark copyright",domProps:{innerHTML:e._s(e.setting.base.footer.value)}})])])},z=[],V={computed:Object(P["a"])({},Object(f["c"])("systemConfig",{setting:"data"}))},H=V,J=(a("3b08"),Object(o["a"])(H,q,z,!1,null,null,null)),Y=J.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},G=[],W=(a("a15b"),{computed:Object(P["a"])({},Object(f["c"])("error",["data"])),watch:{data:function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&(t=t.concat(e[a]));this.$alert(t.join("<br/>"),"温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning",center:!0})}}}),X=W,Z=Object(o["a"])(X,Q,G,!1,null,null,null),ee=Z.exports,te={components:{Error:ee,Navigate:L,QuickMenu:K,Copyright:Y}},ae=te,re=(a("4a4e"),Object(o["a"])(ae,R,E,!1,null,"11a31421",null)),se=re.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"login",attrs:{justify:"center",type:"flex",align:"middle","label-width":"100px"}},[a("el-col",{attrs:{sm:24,md:12,lg:6}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("登录后台")])]),a("el-form",{ref:"ruleForm",attrs:{model:e.field,rules:e.rules}},[a("el-form-item",{attrs:{label:"活动名称",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入帐号"},model:{value:e.field.username,callback:function(t){e.$set(e.field,"username",t)},expression:"field.username"}})],1),a("el-form-item",{attrs:{label:"活动名称",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"登录密码"},model:{value:e.field.password,callback:function(t){e.$set(e.field,"password",t)},expression:"field.password"}})],1),a("el-form-item",{attrs:{label:"验证码"}},[a("el-input",{attrs:{placeholder:"请输入验证码"}},[a("template",{slot:"append"},[e._v("验证码")])],2)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录帐号")])],1)],1)],1)],1)],1)},ie=[],le={data:function(){return{field:{username:"2300071698@qq.com",password:"admin888"},rules:{username:[{type:"email",required:!0,message:"请输入邮箱",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},created:function(){h.get()&&this.$router.push("/admin")},methods:Object(P["a"])({},Object(f["b"])("user",["adminLogin"]),{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,t.adminLogin(t.field);case 3:t.$router.push("/site/index"),e.next=7;break;case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})},oe=le,ce=(a("4137"),Object(o["a"])(oe,ne,ie,!1,null,"609607f2",null)),ue=ce.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.menus,(function(t,r){return a("dl",{key:r},[a("dt",[e._v(e._s(t.title))]),a("dd",e._l(t.children,(function(t,r){return a("router-link",{key:r,staticClass:"tile d-block shadow-sm",attrs:{to:t.url}},[a("i",{class:"fa fa-2x d-block "+t.icon}),e._v(" "+e._s(t.title)+" ")])})),1)])})),0)},me=[],pe={data:function(){return{menus:[{title:"应用扩展",children:[{title:"模块",icon:"fa fa-cubes",url:"/system/module/index"}]},{title:"用户管理",children:[{title:"我的帐户",icon:"fa-briefcase",url:""},{title:"用户组管理",icon:"fa-users",url:"/system/group/index"},{title:"服务套餐",icon:"fa-comments-o",url:"/system/package/index"}]},{title:"系统管理",children:[{title:"站点列表",icon:"fa-sitemap",url:"/site/index"},{title:"系统配置",icon:"fa-tachometer",url:"/system/config"},{title:"更新缓存",icon:"fa-refresh",url:""}]}]}}},fe=pe,ve=(a("80f4"),Object(o["a"])(fe,de,me,!1,null,"c38a864c",null)),be=ve.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("div",{staticClass:"card shadow-sm"},[a("div",{staticClass:"card-header"},[e._v(" 已安装模块列表")]),e.modules?a("div",{staticClass:"card-body pt-1"},e._l(e.modules,(function(t,r){return a("div",{key:r,staticClass:"row border-bottom pb-3 pt-3"},[a("div",{staticClass:"col-3 col-md-1"},[a("img",{staticClass:"shadow-sm",attrs:{src:e.preview(t)}})]),a("div",{staticClass:"col-4 col-md-6 pt-1"},[a("strong",{staticClass:"d-block"},[e._v(e._s(t.package.title))]),a("small",{staticClass:"text-secondary"},[e._v("标识:"+e._s(t.name))])]),a("div",{staticClass:"col-4 col-md-5 text-right pt-2"},[a("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group","aria-label":"Basic example"}},[t.model?e._e():a("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),e.install(t)}}},[e._v("安装 ")]),t.model?a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),e.uninstall(t)}}},[e._v("卸载 ")]):e._e()])]),a("hr")])})),0):e._e()])])},he=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"nav nav-tabs mb-2"},[a("a",{staticClass:"nav-link active",attrs:{href:"#"}},[e._v("已安装模块")])])}],_e=(a("b0c0"),{name:"Installed",data:function(){return{modules:[]}},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios("/system/module");case 2:a=t.sent,e.modules=a.data.data;case 4:case"end":return t.stop()}}),t)})))()},methods:{preview:function(e){return"/"+"/modules/".concat(e.name,"/preview.jpg")},install:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post("system/module",{name:e.name});case 2:t.$message.success("安装成功"),e.model=!0;case 4:case"end":return a.stop()}}),a)})))()},uninstall:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.delete("/system/module/".concat(e.name));case 2:t.$message.success("卸载成功"),e.model=!1;case 4:case"end":return a.stop()}}),a)})))()}}}),xe=_e,ye=(a("d588"),Object(o["a"])(xe,ge,he,!1,null,"28bc3a3c",null)),ke=ye.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("master",[a("div",{staticClass:"card shadow-sm"},[a("div",{staticClass:"card-header"},[e._v("套餐列表")]),a("div",{staticClass:"card-body"},[e.message?a("div",[a("h6",{staticClass:"text-center p-3 text-secondary"},[a("i",{staticClass:"fa fa-info-circle",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.message)+" ")])]):e._e(),e.packages.length>0?a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("名称")]),a("th",[e._v("可用模块")]),a("th",[e._v("用户组")]),a("th")])]),a("tbody",e._l(e.packages,(function(t){return a("tr",[a("td",[e._v(e._s(t.name))]),a("td",e._l(t.modules,(function(t){return a("span",{staticClass:"badge badge-success mr-1"},[e._v(" "+e._s(t.name)+" ")])})),0),a("td",e._l(t.group,(function(t){return a("span",{staticClass:"badge badge-info mr-1"},[a("router-link",{staticClass:"text-white",attrs:{to:{name:"system.group.edit",params:{id:t.id}}}},[e._v(" "+e._s(t.name)+" ")])],1)})),0),a("td",{staticClass:"text-right"},[a("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group"}},[a("router-link",{staticClass:"btn btn-outline-success",attrs:{to:{name:"system.package.edit",params:{id:t.id}}}},[e._v(" 编辑 ")]),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(a){return e.del(t)}}},[e._v(" 删除 ")])],1)])])})),0)]):e._e()])])])},Ce=[],$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav",{staticClass:"nav nav-tabs mb-2"},[a("router-link",{class:{"nav-link":!0,active:"system.package.index"===e.routerName},attrs:{to:{name:"system.package.index"}}},[e._v("套餐列表 ")]),a("router-link",{class:{"nav-link":!0,active:"system.package.add"===e.routerName},attrs:{to:{name:"system.package.add"}}},[e._v("添加套餐 ")]),"system.package.edit"===e.routerName?a("router-link",{class:{"nav-link":!0,active:"system.package.edit"===e.routerName},attrs:{to:{name:"system.package.add"}}},[e._v("编辑套餐 ")]):e._e()],1),e._t("default")],2)},je=[],Oe={name:"Tab",computed:{routerName:function(){return this.$route.name}}},Re=Oe,Ee=Object(o["a"])(Re,$e,je,!1,null,"0dc93f90",null),Ne=Ee.exports,Se={components:{Master:Ne},data:function(){return{packages:[],message:""}},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("/system/package");case 2:a=t.sent,e.$set(e,"packages",a.data.data),0===a.data.data.length&&e.$set(e,"message","你还没有添加任何套餐");case 5:case"end":return t.stop()}}),t)})))()},methods:{del:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("确定删除吗？","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(Object(p["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.delete("/system/package/".concat(e.id));case 2:t.$message.success("删除成功"),t.$router.go(0);case 4:case"end":return a.stop()}}),a)}))));case 1:case"end":return a.stop()}}),a)})))()}}},Pe=Se,Te=(a("a23f"),Object(o["a"])(Pe,we,Ce,!1,null,"7f0c956e",null)),Be=Te.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("field",{attrs:{action:"add"}})},Le=[],De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("master",[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v(" 服务套餐管理 ")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v("服务套餐名称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.package.name,expression:"package.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"请输入套餐中文名称"},domProps:{value:e.package.name},on:{input:function(t){t.target.composing||e.$set(e.package,"name",t.target.value)}}})])])]),a("div",{staticClass:"card mt-3"},[a("div",{staticClass:"card-header"},[e._v(" 套餐模块选择 ")]),a("div",{staticClass:"card-body"},[e.moduleList.length>0?a("table",{staticClass:"table"},[a("thead",[a("tr",{staticClass:"text-secondary font-weight-normal"},[a("th",[e._v("操作")]),a("th",[e._v("模块名称")]),a("th",[e._v("模块标识")]),a("th",[e._v("版本号")])])]),a("tbody",e._l(e.moduleList,(function(t,r){return a("tr",{key:r},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.package.modules,expression:"package.modules"}],attrs:{type:"checkbox"},domProps:{value:t.model.id,checked:Array.isArray(e.package.modules)?e._i(e.package.modules,t.model.id)>-1:e.package.modules},on:{change:function(a){var r=e.package.modules,s=a.target,n=!!s.checked;if(Array.isArray(r)){var i=t.model.id,l=e._i(r,i);s.checked?l<0&&e.$set(e.package,"modules",r.concat([i])):l>-1&&e.$set(e.package,"modules",r.slice(0,l).concat(r.slice(l+1)))}else e.$set(e.package,"modules",n)}}})]),a("td",[e._v(e._s(t.package.title))]),a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.package.version))])])})),0)]):e._e()])]),a("button",{staticClass:"btn btn-success mt-3",attrs:{type:"button"},on:{click:e.submit}},[e._v("保存提交")])])},Ae=[],Ie=(a("d81d"),{props:["action"],data:function(){return{package:{name:"",modules:[]},moduleList:[]}},components:{Master:Ne},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios("/system/module/installed");case 2:if(a=t.sent,e.$set(e,"moduleList",a.data.data),"edit"!==e.action){t.next=11;break}return r=e.$route.params.id,t.next=8,e.axios.get("/system/package/".concat(r));case 8:s=t.sent,e.$set(e.package,"name",s.data.data.name),e.$set(e.package,"modules",s.data.data.modules.map((function(e){return e.id})));case 11:case"end":return t.stop()}}),t)})))()},methods:{submit:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e.action,t.next="add"===t.t0?3:"edit"===t.t0?8:14;break;case 3:return t.next=5,e.axios.post("/system/package",e.package);case 5:return e.$message.success("套餐添加成功"),e.$router.push({name:"system.package.index"}),t.abrupt("break",14);case 8:return a=e.$route.params.id,t.next=11,e.axios.put("/system/package/".concat(a),e.package);case 11:return e.$message.success("套餐编辑成功"),e.$router.push({name:"system.package.index"}),t.abrupt("break",14);case 14:case"end":return t.stop()}}),t)})))()}}}),Me=Ie,Fe=Object(o["a"])(Me,De,Ae,!1,null,"4bc42e86",null),Ke=Fe.exports,qe={components:{Field:Ke}},ze=qe,Ve=Object(o["a"])(ze,Ue,Le,!1,null,"19b7735a",null),He=Ve.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("field",{attrs:{action:"edit"}})},Ye=[],Qe={components:{Field:Ke}},Ge=Qe,We=Object(o["a"])(Ge,Je,Ye,!1,null,"9159423c",null),Xe=We.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("master",[a("div",{staticClass:"card shadow-sm"},[a("div",{staticClass:"card-header"},[e._v("套餐列表")]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("名称")]),a("th",[e._v("可创建站点数量")]),a("th",[e._v("套餐")]),a("th")])]),a("tbody",e._l(e.groups,(function(t){return a("tr",[a("td",[e._v(e._s(t.name))]),a("td",[a("span",{staticClass:"badge badge-info"},[e._v(e._s(t.site_num))])]),a("td",e._l(t.packages,(function(t){return a("span",{staticClass:"badge badge-success mr-2"},[a("router-link",{staticClass:"text-white",attrs:{to:{name:"system.package.edit",params:{id:t.id}}}},[e._v(" "+e._s(t.name)+" ")])],1)})),0),a("td",{staticClass:"text-right"},[a("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group"}},[a("router-link",{staticClass:"btn btn-outline-success",attrs:{to:{name:"system.group.edit",params:{id:t.id}}}},[e._v(" 编辑 ")]),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(a){return e.del(t)}}},[e._v(" 删除 ")])],1)])])})),0)])])])])},et=[],tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav",{staticClass:"nav nav-tabs mb-2"},[a("router-link",{class:{"nav-link":!0,active:"system.group.index"===e.routerName},attrs:{to:{name:"system.group.index"}}},[e._v("用户组列表 ")]),a("router-link",{class:{"nav-link":!0,active:"system.group.add"===e.routerName},attrs:{to:{name:"system.group.add"}}},[e._v("添加用户组 ")]),"system.group.edit"===e.routerName?a("router-link",{class:{"nav-link":!0,active:"system.group.edit"===e.routerName},attrs:{to:{name:"system.group.add"}}},[e._v("编辑用户组 ")]):e._e()],1),e._t("default")],2)},at=[],rt={name:"Tab",computed:{routerName:function(){return this.$route.name}}},st=rt,nt=Object(o["a"])(st,tt,at,!1,null,"7c3e81c8",null),it=nt.exports,lt={components:{Master:it},data:function(){return{groups:[]}},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("/system/group");case 2:a=t.sent,e.$set(e,"groups",a.data.data);case 4:case"end":return t.stop()}}),t)})))()},methods:{del:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$confirm("确定删除吗？","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.delete("/system/group/".concat(g.id));case 2:t.$message.success("删除成功"),t.$router.go(0);case 4:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})))()}}},ot=lt,ct=(a("dfd6"),Object(o["a"])(ot,Ze,et,!1,null,"4b15f286",null)),ut=ct.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("field",{attrs:{action:"add"}})},mt=[],pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("master",[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v(" 用户组设置 ")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v("会员组")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.group.name,expression:"group.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"请输入会员组名称"},domProps:{value:e.group.name},on:{input:function(t){t.target.composing||e.$set(e.group,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"num"}},[e._v("站点数量")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.group.site_num,expression:"group.site_num"}],staticClass:"form-control",attrs:{type:"number",id:"num",placeholder:"可创建的站点数量"},domProps:{value:e.group.site_num},on:{input:function(t){t.target.composing||e.$set(e.group,"site_num",t.target.value)}}})])])]),a("div",{staticClass:"card mt-3"},[a("div",{staticClass:"card-header"},[e._v(" 可使用的服务套餐 ")]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table"},[a("thead",[a("tr",{staticClass:"text-secondary font-weight-normal"},[a("th",[e._v("操作")]),a("th",[e._v("名称")]),a("th",[e._v("可用模块")])])]),a("tbody",e._l(e.packages,(function(t,r){return a("tr",{key:r},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.group.package_id,expression:"group.package_id"}],attrs:{type:"checkbox"},domProps:{value:t.id,checked:Array.isArray(e.group.package_id)?e._i(e.group.package_id,t.id)>-1:e.group.package_id},on:{change:function(a){var r=e.group.package_id,s=a.target,n=!!s.checked;if(Array.isArray(r)){var i=t.id,l=e._i(r,i);s.checked?l<0&&e.$set(e.group,"package_id",r.concat([i])):l>-1&&e.$set(e.group,"package_id",r.slice(0,l).concat(r.slice(l+1)))}else e.$set(e.group,"package_id",n)}}})]),a("td",[e._v(e._s(t.name))]),a("td",e._l(t.modules,(function(t,r){return a("span",{key:r,staticClass:"badge badge-success mr-1"},[e._v(" "+e._s(t.name)+" ")])})),0)])})),0)])])]),a("button",{staticClass:"btn btn-success mt-3",attrs:{type:"button"},on:{click:e.submit}},[e._v("保存提交")])])},ft=[],vt={props:["action"],data:function(){return{group:{name:"",site_num:3,package_id:[]},packages:[]}},components:{Master:it},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios("/system/package");case 2:if(a=t.sent,e.$set(e,"packages",a.data.data),"edit"!==e.action){t.next=11;break}return r=e.$route.params.id,t.next=8,e.axios.get("/system/group/".concat(r)).then((function(e){return e.data.data}));case 8:s=t.sent,e.$set(e,"group",s),e.$set(e.group,"package_id",s.packages.map((function(e){return e.id})));case 11:case"end":return t.stop()}}),t)})))()},methods:{submit:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e.action,t.next="add"===t.t0?3:"edit"===t.t0?8:14;break;case 3:return t.next=5,e.axios.post("/system/group",e.group);case 5:return e.$message.success("用户组添加成功"),e.$router.push({name:"system.group.index"}),t.abrupt("break",14);case 8:return a=e.$route.params.id,t.next=11,e.axios.put("/system/group/".concat(a),e.group);case 11:return e.$message.success("用户组编辑成功"),e.$router.push({name:"system.group.index"}),t.abrupt("break",14);case 14:case"end":return t.stop()}}),t)})))()}}},bt=vt,gt=Object(o["a"])(bt,pt,ft,!1,null,"235c583b",null),ht=gt.exports,_t={components:{Field:ht}},xt=_t,yt=Object(o["a"])(xt,dt,mt,!1,null,"69976d81",null),kt=yt.exports,wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("field",{attrs:{action:"edit"}})},Ct=[],$t={components:{Field:ht}},jt=$t,Ot=Object(o["a"])(jt,wt,Ct,!1,null,"e1c5296e",null),Rt=Ot.exports,Et=[{path:"/admin/login",component:ue},{path:"/system",component:se,beforeEnter:function(e,t,a){return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.dispatch("user/get");case 3:return e.next=5,y.dispatch("systemConfig/get");case 5:y.state.user.data.is_super_admin||Fr.push("/site/index"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),y.dispatch("user/adminLogout");case 11:a();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},children:[{path:"/admin/login",component:ue},{path:"index",component:be},{path:"config",component:O},{path:"module/index",name:"system.module.index",component:ke},{path:"package/index",name:"system.package.index",component:Be},{path:"package/add",name:"system.package.add",component:He},{path:"package/edit/:id",name:"system.package.edit",component:Xe},{path:"group/index",name:"system.group.index",component:ut},{path:"group/add",name:"system.group.add",component:kt},{path:"group/edit/:id",name:"system.group.edit",component:Rt}]}],Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{"label-width":"100px"}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"邮箱配置",name:"email"}},[a("email")],1),a("el-tab-pane",{attrs:{label:"阿里云",name:"aliYun"}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("ali-yun")],1)],1)],1),a("el-tab-pane",{attrs:{label:"支付宝",name:"aliPay"}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("ali-pay")],1)],1)],1),a("el-tab-pane",{attrs:{label:"上传配置",name:"upload"}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("upload")],1)],1)],1),a("el-tab-pane",{attrs:{label:"用户相关",name:"user"}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("user")],1)],1)],1),a("el-tab-pane",{attrs:{label:"通知设置",name:"notification"}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("notification")],1)],1)],1),a("el-tab-pane",{attrs:{label:"临时维护",name:"maintain"}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("maintain")],1)],1)],1)],1),a("el-form-item",{staticClass:"mt-3"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存提交")])],1)],1)],1)},St=[],Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:e.field.alipay.app_id.title}},[a("el-input",{attrs:{placeholder:e.field.alipay.app_id.desc},model:{value:e.field.alipay.app_id.value,callback:function(t){e.$set(e.field.alipay.app_id,"value",t)},expression:"field.alipay.app_id.value"}})],1),a("el-form-item",{attrs:{label:e.field.alipay.charset.title}},[a("el-input",{attrs:{placeholder:e.field.alipay.charset.desc},model:{value:e.field.alipay.charset.value,callback:function(t){e.$set(e.field.alipay.charset,"value",t)},expression:"field.alipay.charset.value"}})],1),a("el-form-item",{attrs:{label:e.field.alipay.sign_type.title}},[a("el-input",{attrs:{placeholder:e.field.alipay.sign_type.desc},model:{value:e.field.alipay.sign_type.value,callback:function(t){e.$set(e.field.alipay.sign_type,"value",t)},expression:"field.alipay.sign_type.value"}})],1),a("el-form-item",{attrs:{label:e.field.alipay.gatewayUrl.title}},[a("el-input",{attrs:{placeholder:e.field.alipay.gatewayUrl.desc},model:{value:e.field.alipay.gatewayUrl.value,callback:function(t){e.$set(e.field.alipay.gatewayUrl,"value",t)},expression:"field.alipay.gatewayUrl.value"}})],1),a("el-form-item",{attrs:{label:e.field.alipay.merchant_private_key.title}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:e.field.alipay.merchant_private_key.desc},model:{value:e.field.alipay.merchant_private_key.value,callback:function(t){e.$set(e.field.alipay.merchant_private_key,"value",t)},expression:"field.alipay.merchant_private_key.value"}})],1),a("el-form-item",{attrs:{label:e.field.alipay.alipay_public_key.title}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:e.field.alipay.alipay_public_key.desc},model:{value:e.field.alipay.alipay_public_key.value,callback:function(t){e.$set(e.field.alipay.alipay_public_key,"value",t)},expression:"field.alipay.alipay_public_key.value"}})],1)],1)},Tt=[],Bt={name:"Base",computed:Object(P["a"])({},Object(f["c"])("site",{field:"config"}))},Ut=Bt,Lt=Object(o["a"])(Ut,Pt,Tt,!1,null,"5e9bbd8e",null),Dt=Lt.exports,At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:e.field.aliyun.regionId.title}},[a("el-input",{attrs:{placeholder:e.field.aliyun.regionId.desc},model:{value:e.field.aliyun.regionId.value,callback:function(t){e.$set(e.field.aliyun.regionId,"value",t)},expression:"field.aliyun.regionId.value"}})],1),a("el-form-item",{attrs:{label:e.field.aliyun.accessKeyId.title}},[a("el-input",{attrs:{placeholder:e.field.aliyun.accessKeyId.desc},model:{value:e.field.aliyun.accessKeyId.value,callback:function(t){e.$set(e.field.aliyun.accessKeyId,"value",t)},expression:"field.aliyun.accessKeyId.value"}})],1),a("el-form-item",{attrs:{label:e.field.aliyun.accessKeySecret.title}},[a("el-input",{attrs:{placeholder:e.field.aliyun.accessKeySecret.desc},model:{value:e.field.aliyun.accessKeySecret.value,callback:function(t){e.$set(e.field.aliyun.accessKeySecret,"value",t)},expression:"field.aliyun.accessKeySecret.value"}})],1),a("el-divider",[a("i",{staticClass:"el-icon-mobile-phone"})]),a("el-form-item",{attrs:{label:e.field.aliyun.upload.endpoint.title}},[a("el-input",{attrs:{placeholder:e.field.aliyun.upload.endpoint.desc},model:{value:e.field.aliyun.upload.endpoint.value,callback:function(t){e.$set(e.field.aliyun.upload.endpoint,"value",t)},expression:"field.aliyun.upload.endpoint.value"}})],1),a("el-form-item",{attrs:{label:e.field.aliyun.upload.bucket.title}},[a("el-input",{attrs:{placeholder:e.field.aliyun.upload.bucket.desc},model:{value:e.field.aliyun.upload.bucket.value,callback:function(t){e.$set(e.field.aliyun.upload.bucket,"value",t)},expression:"field.aliyun.upload.bucket.value"}})],1)],1)},It=[],Mt={name:"Base",computed:Object(P["a"])({},Object(f["c"])("site",{field:"config"}))},Ft=Mt,Kt=Object(o["a"])(Ft,At,It,!1,null,"365c43ba",null),qt=Kt.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"120px","label-position":"left"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("邮箱配置")])]),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:e.field.email.driver.title}},[a("el-input",{attrs:{placeholder:e.field.email.driver.desc},model:{value:e.field.email.driver.value,callback:function(t){e.$set(e.field.email.driver,"value",t)},expression:"field.email.driver.value"}})],1),a("el-form-item",{attrs:{label:e.field.email.host.title}},[a("el-input",{attrs:{placeholder:e.field.email.host.desc},model:{value:e.field.email.host.value,callback:function(t){e.$set(e.field.email.host,"value",t)},expression:"field.email.host.value"}})],1),a("el-form-item",{attrs:{label:e.field.email.port.title}},[a("el-input",{attrs:{placeholder:e.field.email.port.desc},model:{value:e.field.email.port.value,callback:function(t){e.$set(e.field.email.port,"value",t)},expression:"field.email.port.value"}})],1),a("el-form-item",{attrs:{label:e.field.email.username.title}},[a("el-input",{attrs:{placeholder:e.field.email.username.desc},model:{value:e.field.email.username.value,callback:function(t){e.$set(e.field.email.username,"value",t)},expression:"field.email.username.value"}})],1),a("el-form-item",{attrs:{label:e.field.email.password.title}},[a("el-input",{attrs:{placeholder:e.field.email.password.desc},model:{value:e.field.email.password.value,callback:function(t){e.$set(e.field.email.password,"value",t)},expression:"field.email.password.value"}})],1),a("el-form-item",{attrs:{label:e.field.email.name.title}},[a("el-input",{attrs:{placeholder:e.field.email.name.desc},model:{value:e.field.email.name.value,callback:function(t){e.$set(e.field.email.name,"value",t)},expression:"field.email.name.value"}})],1),a("el-form-item",{attrs:{label:e.field.email.address.title}},[a("el-input",{attrs:{placeholder:e.field.email.address.desc},model:{value:e.field.email.address.value,callback:function(t){e.$set(e.field.email.address,"value",t)},expression:"field.email.address.value"}})],1)],1)],1)],1),a("el-card",{staticClass:"box-card mt-3"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("测试")])]),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:e.field.email.test.mail.title}},[a("el-input",{attrs:{placeholder:e.field.email.test.mail.desc},model:{value:e.field.email.test.mail.value,callback:function(t){e.$set(e.field.email.test.mail,"value",t)},expression:"field.email.test.mail.value"}},[a("template",{slot:"append"},[a("a",{attrs:{href:""}},[e._v("发送测试邮件")])])],2)],1)],1)],1)],1)],1)},Vt=[],Ht={name:"Base",computed:Object(P["a"])({},Object(f["c"])("site",{field:"config"}))},Jt=Ht,Yt=Object(o["a"])(Jt,zt,Vt,!1,null,"29e51b78",null),Qt=Yt.exports,Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:e.field.maintain.close.title}},[a("el-radio-group",{model:{value:e.field.maintain.close.value,callback:function(t){e.$set(e.field.maintain.close,"value",t)},expression:"field.maintain.close.value"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:e.field.maintain.message.title}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:e.field.maintain.message.desc},model:{value:e.field.maintain.message.value,callback:function(t){e.$set(e.field.maintain.message,"value",t)},expression:"field.maintain.message.value"}})],1)],1)},Wt=[],Xt={name:"Base",computed:Object(P["a"])({},Object(f["c"])("site",{field:"config"}))},Zt=Xt,ea=Object(o["a"])(Zt,Gt,Wt,!1,null,"43d46c98",null),ta=ea.exports,aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{"label-width":"120px"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("阿里云设置")])]),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:e.field.notification.timeout.title}},[a("el-input",{attrs:{placeholder:e.field.notification.timeout.desc},model:{value:e.field.notification.timeout.value,callback:function(t){e.$set(e.field.notification.timeout,"value",t)},expression:"field.notification.timeout.value"}},[a("template",{slot:"append"},[e._v("秒")])],2)],1)],1)],1)],1),a("el-card",{staticClass:"box-card mt-3"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("阿里云设置")])]),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:e.field.notification.aliyun.sign.title}},[a("el-input",{attrs:{placeholder:e.field.notification.aliyun.sign.desc},model:{value:e.field.notification.aliyun.sign.value,callback:function(t){e.$set(e.field.notification.aliyun.sign,"value",t)},expression:"field.notification.aliyun.sign.value"}})],1),a("el-form-item",{attrs:{label:e.field.notification.aliyun.template.title}},[a("el-input",{attrs:{placeholder:e.field.notification.aliyun.template.desc},model:{value:e.field.notification.aliyun.template.value,callback:function(t){e.$set(e.field.notification.aliyun.template,"value",t)},expression:"field.notification.aliyun.template.value"}})],1),a("el-form-item",{attrs:{label:e.field.notification.aliyun.vars.title}},[a("el-input",{attrs:{placeholder:e.field.notification.aliyun.vars.desc},model:{value:e.field.notification.aliyun.vars.value,callback:function(t){e.$set(e.field.notification.aliyun.vars,"value",t)},expression:"field.notification.aliyun.vars.value"}})],1),a("el-form-item",{attrs:{label:e.field.notification.aliyun.test_mobile.title}},[a("el-input",{attrs:{placeholder:e.field.notification.aliyun.test_mobile.desc},model:{value:e.field.notification.aliyun.test_mobile.value,callback:function(t){e.$set(e.field.notification.aliyun.test_mobile,"value",t)},expression:"field.notification.aliyun.test_mobile.value"}},[a("template",{slot:"append"},[a("a",{attrs:{href:""}},[e._v("发送测试短信")])])],2)],1)],1)],1)],1)],1)},ra=[],sa={name:"Base",computed:Object(P["a"])({},Object(f["c"])("site",{field:"config"}))},na=sa,ia=Object(o["a"])(na,aa,ra,!1,null,"03c3deb8",null),la=ia.exports,oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:e.field.upload.drive.title}},[a("el-radio-group",{model:{value:e.field.upload.drive.value,callback:function(t){e.$set(e.field.upload.drive,"value",t)},expression:"field.upload.drive.value"}},[a("el-radio",{attrs:{label:"local"}},[e._v("本地上传")]),a("el-radio",{attrs:{label:"oss"}},[e._v("阿里云OSS")])],1)],1),a("el-form-item",{attrs:{label:e.field.upload.file_size.title}},[a("el-input",{attrs:{placeholder:e.field.upload.file_size.desc},model:{value:e.field.upload.file_size.value,callback:function(t){e.$set(e.field.upload.file_size,"value",t)},expression:"field.upload.file_size.value"}})],1),a("el-form-item",{attrs:{label:e.field.upload.type.title}},[a("el-input",{attrs:{placeholder:e.field.upload.type.desc},model:{value:e.field.upload.type.value,callback:function(t){e.$set(e.field.upload.type,"value",t)},expression:"field.upload.type.value"}})],1)],1)},ca=[],ua={name:"Base",computed:Object(P["a"])({},Object(f["c"])("site",{field:"config"}))},da=ua,ma=Object(o["a"])(da,oa,ca,!1,null,"fbf5c486",null),pa=ma.exports,fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:e.field.user.drive.title}},[a("el-checkbox-group",{model:{value:e.field.user.drive.value,callback:function(t){e.$set(e.field.user.drive,"value",t)},expression:"field.user.drive.value"}},[a("el-checkbox",{attrs:{label:"email"}},[e._v("邮箱注册")]),a("el-checkbox",{attrs:{label:"mobile"}},[e._v("手机号注册")])],1)],1),a("el-form-item",{attrs:{label:e.field.user.captcha.title}},[a("el-radio-group",{model:{value:e.field.user.captcha.value,callback:function(t){e.$set(e.field.user.captcha,"value",t)},expression:"field.user.captcha.value"}},[a("el-radio",{attrs:{label:"1"}},[e._v("开启")]),a("el-radio",{attrs:{label:"0"}},[e._v("关闭")])],1)],1),a("el-form-item",{attrs:{label:e.field.user.avatar.title}},[a("el-radio-group",{model:{value:e.field.user.avatar.value,callback:function(t){e.$set(e.field.user.avatar,"value",t)},expression:"field.user.avatar.value"}},[a("el-radio",{attrs:{label:"1"}},[e._v("开启")]),a("el-radio",{attrs:{label:"0"}},[e._v("关闭")])],1)],1)],1)},va=[],ba={name:"Base",computed:Object(P["a"])({},Object(f["c"])("site",{field:"config"}))},ga=ba,ha=Object(o["a"])(ga,fa,va,!1,null,"358858db",null),_a=ha.exports,xa={beforeRouteEnter:function(e,t,a){return Object(p["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.axios.get("/site/config/".concat(e.params.id));case 2:return r=t.sent,t.next=5,y.commit("site/config",r.data.data);case 5:a();case 6:case"end":return t.stop()}}),t)})))()},data:function(){return{activeName:"email"}},components:{Email:Qt,AliPay:Dt,AliYun:qt,Maintain:ta,Notification:la,Upload:pa,User:_a},computed:Object(P["a"])({},Object(f["c"])("site",["config"])),methods:{submit:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.axios.put("/site/config/".concat(e.$route.params.id),{data:e.config});case 2:e.$message.success("更新成功"),e.$router.push("/admin");case 4:case"end":return t.stop()}}),t)})))()}}},ya=xa,ka=Object(o["a"])(ya,Nt,St,!1,null,null,null),wa=ka.exports,Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("field",{attrs:{action:"add"}})},$a=[],ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"pt-3 pb-2 pl-1",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:"/admin"}},[a("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}}),e._v(" 首页 ")]),a("el-breadcrumb-item",{attrs:{to:"/site/idnex"}},[e._v("站点管理")]),a("el-breadcrumb-item",[e._v("设置站点信息")])],1),a("el-form",{ref:"form",attrs:{"label-width":"100px",rules:e.rules,model:e.field,"label-position":"right"}},[a("el-card",{staticClass:"box-card mt-3"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("设置站点信息")])]),a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:180}},[a("el-col",{attrs:{xs:24,md:16}},[a("el-form-item",{attrs:{label:"站点名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入网站标题"},model:{value:e.field.name,callback:function(t){e.$set(e.field,"name",t)},expression:"field.name"}})],1),a("el-form-item",{attrs:{label:"网站域名",prop:"domain"}},[a("el-input",{attrs:{placeholder:"如: https://www.github.com"},model:{value:e.field.domain,callback:function(t){e.$set(e.field,"domain",t)},expression:"field.domain"}})],1),a("el-form-item",{attrs:{label:"网站描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"网站的简短介绍"},model:{value:e.field.description,callback:function(t){e.$set(e.field,"description",t)},expression:"field.description"}})],1),a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{attrs:{placeholder:"请用半角逗号分隔"},model:{value:e.field.keyword,callback:function(t){e.$set(e.field,"keyword",t)},expression:"field.keyword"}})],1),a("el-form-item",{attrs:{label:"站点标志"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,accept:"image/jpeg, image/png","show-file-list":!1,"on-success":e.logoUpload,headers:e.headers}},[e.field.logo?a("img",{staticClass:"avatar",attrs:{src:e.field.logo}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"ICP备案号"}},[a("el-input",{model:{value:e.field.icp,callback:function(t){e.$set(e.field,"icp",t)},expression:"field.icp"}})],1),a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{model:{value:e.field.tel,callback:function(t){e.$set(e.field,"tel",t)},expression:"field.tel"}})],1),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{model:{value:e.field.email,callback:function(t){e.$set(e.field,"email",t)},expression:"field.email"}})],1),a("el-form-item",{attrs:{label:"统计代码"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:""},model:{value:e.field.counter,callback:function(t){e.$set(e.field,"counter",t)},expression:"field.counter"}})],1)],1)],1)],1),a("el-divider",[a("i",{staticClass:"el-icon-arrow-up"})]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.submit("form")}}},[e._v("保存提交")])],1)],1)],1)],1)},Oa=[],Ra={props:["action"],data:function(){return{field:{activeName:"base",name:"",keyword:"",description:"",logo:"",icp:"",domain:"",tel:"",email:"",counter:""},rules:{name:[{required:!0,message:"站点名称不能为空",trigger:"blur"},{min:3,max:25,message:"长度在 3 到 5 个字符",trigger:"blur"}],domain:[{required:!0,message:"域名不能为空",trigger:"blur"}]}}},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("edit"!==e.action){t.next=5;break}return t.next=3,e.axios.get("/site/site/".concat(e.$route.params.id));case 3:a=t.sent,e.$set(e,"field",a.data.data);case 5:case"end":return t.stop()}}),t)})))()},computed:{uploadUrl:function(){return"".concat(window.api,"/system/upload")},headers:function(){return{Authorization:"Bearer ".concat(h.get())}}},methods:{logoUpload:function(e,t){this.field.logo=e},submit:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=16;break}e.t0=t.action,e.next="add"===e.t0?4:"edit"===e.t0?9:14;break;case 4:return e.next=6,t.axios.post("/site/site",t.field);case 6:return t.$message.success("添加成功"),t.$router.push("/site/index"),e.abrupt("break",14);case 9:return e.next=11,t.axios.put("/site/site/".concat(t.field.id),t.field);case 11:return t.$message.success("更新成功"),t.$router.push("/site/index"),e.abrupt("break",14);case 14:e.next=17;break;case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},Ea=Ra,Na=Object(o["a"])(Ea,ja,Oa,!1,null,null,null),Sa=Na.exports,Pa={components:{Field:Sa}},Ta=Pa,Ba=Object(o["a"])(Ta,Ca,$a,!1,null,null,null),Ua=Ba.exports,La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("field",{attrs:{action:"edit"}})},Da=[],Aa={components:{Field:Sa}},Ia=Aa,Ma=Object(o["a"])(Ia,La,Da,!1,null,null,null),Fa=Ma.exports,Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-link",{staticClass:"btn btn-info mb-3",attrs:{to:"/site/add"}},[a("i",{staticClass:"fa fa-plus"}),e._v(" 添加网站 ")]),e._l(e.data,(function(t){return a("div",{key:t.id,staticClass:"card mb-3 shadow-sm"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[e._v("套餐")]),a("div",{staticClass:"col-6 text-right"},[a("router-link",{staticClass:"text-secondary",attrs:{to:{name:"module.home",params:{id:t.id}}}},[a("i",{staticClass:"fa fa-cog"}),e._v(" 管理站点 ")])],1)])]),a("div",{staticClass:"card-body text-dark d-flex align-items-center"},[a("i",{staticClass:"fa fa-rss fa-3x mr-3"}),a("span",{staticClass:"h4"},[e._v(e._s(t.name))])]),a("div",{staticClass:"card-footer text-muted"},[a("div",{staticClass:"d-flex flex-md-row flex-column justify-content-between"},[a("div",{staticClass:"small"},[a("span",{staticClass:"mr-2"},[e._v("创建时间: "+e._s(e._f("dateFormat")(t.created_at)))]),a("span",{staticClass:"mr-2"},[e._v("站长: "+e._s(t.user.name))]),a("span",{staticClass:"mr-2"},[e._v("所属组: "+e._s(t.user.group.name))])]),a("div",{staticClass:"lin"}),a("div",{staticClass:"small"},[a("router-link",{staticClass:"text-muted mr-2",attrs:{to:{name:"site.config",params:{id:t.id}}}},[a("i",{staticClass:"fa fa-life-ring"}),e._v(" 网站配置 ")]),a("router-link",{staticClass:"text-muted mr-2",attrs:{to:{name:"site.module",params:{id:t.id}}}},[a("i",{staticClass:"fa fa-sitemap"}),e._v(" 站点模块 ")]),e._m(0,!0),a("router-link",{staticClass:"text-muted mr-2",attrs:{to:{name:"site.user.index",params:{id:t.id}}}},[a("i",{staticClass:"fa fa-user-o"}),e._v(" 用户列表 ")]),a("router-link",{staticClass:"text-muted mr-2",attrs:{to:{name:"site.admin.index",params:{id:t.id}}}},[a("i",{staticClass:"fa fa-user-circle-o"}),e._v(" 管理员设置 ")]),a("router-link",{staticClass:"text-muted mr-2",attrs:{to:{name:"site.edit",params:{id:t.id}}}},[a("i",{staticClass:"fa fa-pencil-square-o"}),e._v(" 编辑 ")]),a("a",{staticClass:"text-muted",attrs:{href:""},on:{click:function(a){return a.preventDefault(),e.delSite(t)}}},[a("i",{staticClass:"fa fa-trash"}),e._v(" 删除 ")])],1)])])])}))],2)},qa=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"text-muted mr-2",attrs:{href:""}},[a("i",{staticClass:"fa fa-comment-o"}),e._v(" 微信公众号 ")])}],za={data:function(){return{data:[]}},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("/site/site");case 2:a=t.sent,e.$set(e,"data",a.data.data);case 4:case"end":return t.stop()}}),t)})))()},methods:{delSite:function(e){var t=this;this.$confirm("确定删除[".concat(e.name,"]吗?"),"温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(p["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.delete("/site/site/".concat(e.id));case 2:t.$message.success("删除成功"),t.$router.go("/admin");case 4:case"end":return a.stop()}}),a)}))))}}},Va=za,Ha=Object(o["a"])(Va,Ka,qa,!1,null,null,null),Ja=Ha.exports,Ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("77")])},Qa=[],Ga={data:function(){return{modules:[]}},methods:{}},Wa=Ga,Xa=Object(o["a"])(Wa,Ya,Qa,!1,null,"548a4530",null),Za=Xa.exports,er=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},tr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v(" 用户列表 ")]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("#编号")]),a("th",[e._v("昵称")]),a("th",[e._v("真实姓名")]),a("th",[e._v("邮箱")]),a("th",[e._v("手机号")]),a("th",[e._v("会员组")]),a("th",[e._v("所属站点")]),a("th",[e._v("状态")]),a("th",[e._v("注册时间")])])]),a("tbody",[a("tr",[a("td"),a("td"),a("td")])])])]),a("div",{staticClass:"card-footer text-muted"})])}],ar={},rr=ar,sr=Object(o["a"])(rr,er,tr,!1,null,"fcded564",null),nr=sr.exports,ir=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},lr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card shadow-sm"},[a("div",{staticClass:"card-header"},[e._v(" 用户列表 ")]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table small"},[a("thead",[a("tr",[a("th",[e._v("#编号")]),a("th",[e._v("昵称")]),a("th",[e._v("真实姓名")]),a("th",[e._v("邮箱")]),a("th",[e._v("手机号")]),a("th",[e._v("会员组")]),a("th",[e._v("所属站点")]),a("th",[e._v("状态")]),a("th",[e._v("注册时间")]),a("th")])]),a("tbody",[a("tr",[a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td",{staticClass:"text-right"},[a("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group","aria-label":"Basic example"}},[a("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"}},[e._v("设置权限")]),a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"}},[e._v("查看操作权限")]),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"}},[e._v("删除操作员")])])])])])])]),a("div",{staticClass:"card-footer text-muted"})])}],or={},cr=or,ur=Object(o["a"])(cr,ir,lr,!1,null,"25ca4b60",null),dr=ur.exports,mr={path:"/site",component:se,alias:"/site/index",beforeEnter:function(e,t,a){return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.dispatch("user/get");case 3:return e.next=5,y.dispatch("systemConfig/get");case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),y.dispatch("user/adminLogout");case 10:a();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},children:[{path:"index",name:"site.index",component:Ja},{path:"add",name:"site.add",component:Ua},{path:"edit/:id",name:"site.edit",component:Fa},{path:"config/:id",name:"site.config",component:wa},{path:"module/:id",name:"site.module",component:Za},{path:"user/index/:id",name:"site.user.index",component:nr},{path:"admin/index/:id",name:"site.admin.index",component:dr}]},pr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" NOT FOUND ")])},fr=[],vr={},br=vr,gr=Object(o["a"])(br,pr,fr,!1,null,null,null),hr=gr.exports,_r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-container"},[a("error"),a("top-menu"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-3 col-xl-2 mt-3 menus"},e._l(e.modules,(function(t){return a("div",[a("div",{staticClass:"card-header border"},[e._v(" "+e._s(t.package.title)+" ")]),a("div",{staticClass:"list-group"},e._l(t.menus.admin,(function(t){return a("div",e._l(t,(function(t){return a("a",{staticClass:"list-group-item list-group-item-action",on:{click:function(a){return a.preventDefault(),e.to(t,"iframe")}}},[e._v(" "+e._s(t.title)+" ")])})),0)})),0)])})),0),a("div",{staticClass:"col-12 col-sm-12 col-md-9 col-xl-10 mt-3 content p-0 flex-grow-1"},[a("router-view",{directives:[{name:"show",rawName:"v-show",value:e.routerViewState,expression:"routerViewState"}]}),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.routerViewState,expression:"!routerViewState"}],attrs:{name:"iframe",id:"iframe"}})],1)])])],1)},xr=[],yr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navigate shadow-sm"},[a("div",{staticClass:"container-fluid"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark shadow"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}}),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[e._l(e.menus,(function(t,r){return!t.check||e.user.is_super_admin?a("li",{key:r,staticClass:"nav-item mr-4"},[a("router-link",{staticClass:"nav-link",attrs:{to:t.url}},[a("i",{class:"fa "+t.icon}),e._v(" "+e._s(t.title)+" ")])],1):e._e()})),e._m(1)],2),a("form",{staticClass:"form-inline my-2 my-lg-0"},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(e.user.name)+" ")]),a("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbarDropdown"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("修改资料")]),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("退出登录")])])])])])])])])])},kr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" Dropdown ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Action")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Another action")]),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Something else here")])])])}],wr={data:function(){return{menus:[{title:"返回站点管理",icon:"fa fa-reply",url:"/site/index",check:!1},{title:"全部应用",icon:"fa fa-cubes",url:"/module/home/".concat(this.$route.params.id),check:!1}]}},computed:Object(P["a"])({},Object(f["c"])("user",{user:"data"})),methods:Object(P["a"])({},Object(f["b"])("user",["logout"]))},Cr=wr,$r=(a("3fb4"),Object(o["a"])(Cr,yr,kr,!1,null,"1c2fa4ad",null)),jr=$r.exports,Or={data:function(){return{modules:[],routerViewState:!0}},components:{Error:ee,TopMenu:jr},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("/module/".concat(e.$route.params.id,"/module"));case 2:a=t.sent,e.$set(e,"modules",a.data.data);case 4:case"end":return t.stop()}}),t)})))()},methods:{to:function(e,t){"iframe"===t?(this.routerViewState=!1,window.open(e.url,"iframe")):this.routerViewState=!0}}},Rr=Or,Er=(a("72b5"),Object(o["a"])(Rr,_r,xr,!1,null,"075992f7",null)),Nr=Er.exports,Sr=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Pr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v(" 网站模块应用 ")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3"},[a("div",{staticClass:"card shadow-sm"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"img-thumbnail"},[a("img",{attrs:{src:"http://houdunren.oss-cn-hangzhou.aliyuncs.com/153749361493714134.jpg",alt:""}})])]),a("div",{staticClass:"col-9"},[a("h5",{staticClass:"card-title"},[e._v("Title")]),a("p",{staticClass:"card-text text-secondary small"},[e._v("Body")])])])])])])])])}],Tr={data:function(){return{sites:[]}},created:function(){}},Br=Tr,Ur=(a("39ce"),Object(o["a"])(Br,Sr,Pr,!1,null,"b2ed97b6",null)),Lr=Ur.exports,Dr={path:"/module",component:Nr,redirect:"/site/index",beforeEnter:function(e,t,a){return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.dispatch("user/get");case 3:return e.next=5,y.dispatch("systemConfig/get");case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),y.dispatch("user/adminLogout");case 10:a();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},children:[{path:"home/:id",name:"module.home",component:Lr}]},Ar=[mr].concat(Object(d["a"])(Et),[Dr,{path:"/",redirect:"/site/index"},{path:"*",component:hr}]),Ir=new m["a"]({routes:Ar,mode:"hash"});r["default"].use(m["a"]);var Mr,Fr=Ir,Kr=(a("4989"),a("ab8b"),a("2dd8"),a("66b8"),a("bc3a")),qr=a.n(Kr),zr=a("5c96"),Vr=a.n(zr),Hr={show:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];Mr=zr["Loading"].service({lock:!0,fullscreen:!0,background:"rgba(255, 255, 255, 0.1)"})},close:function(){Mr.close()}},Jr=function(e){var t="";switch(e){case 400:t="请求错误(400)";break;case 401:t="请求要求用户的身份认证(401)";break;case 403:t="没有访问权限(403)";break;case 404:t="访问页面不存在(404)";break;case 408:t="请求超时(408)";break;case 500:t="服务器错误(500)";break;case 501:t="服务未实现(501)";break;case 502:t="网络错误(502)";break;case 503:t="服务不可用(503)";break;case 504:t="网络超时(504)";break;case 505:t="HTTP版本不受支持(505)";break;default:t="连接出错(".concat(e,")!")}return t},Yr={baseURL:"/api",timeout:5e3},Qr=qr.a.create(Yr);Qr.interceptors.request.use((function(e){Hr.show();var t=h.get();return t&&(e.headers.Authorization="Bearer "+t),e}),(function(e){return Promise.reject(e)})),Qr.interceptors.response.use((function(e){return Hr.close(),e}),(function(e){if(Hr.close(),e&&e.response){var t=e.response.status;if(422===t)y.commit("error/set",e.response.data.errors);else{var a=e.response.data.message;a=a||Jr(e.response.status),Fr.app.$message.error(a)}return Promise.reject(e)}return zr["Message"].error("网络超时"),Promise.reject(e)})),Plugin.install=function(e){e.axios=Qr,window.axios=Qr,Object.defineProperties(e.prototype,{axios:{get:function(){return Qr}},$axios:{get:function(){return Qr}}})},r["default"].use(Plugin);Plugin,a("c69f");r["default"].use(Vr.a);a("4de4");var Gr=a("4e22"),Wr=a.n(Gr);r["default"].filter("dateFormat",(function(e){return e?Wr()(e).fromNow():""})),window.Vue=a("2b0e"),window.api="/api",r["default"].component("app",u),new r["default"]({router:Fr,store:y,render:function(e){return e(u)}}).$mount("#app"),console.log("\n  _  _  ___  _   _ ___  _   _ _  _ ___ ___ _  _   ___ ___  __  __\n | || |/ _ \\| | | |   \\| | | | \\| | _ | __| \\| | / __/ _ \\|  \\/  |\n | __ | (_) | |_| | |) | |_| | .` |   | _|| .` || (_| (_) | |\\/| |\n |_||_|\\___/ \\___/|___/ \\___/|_|\\_|_|_|___|_|\\_(_\\___\\___/|_|  |_|\n                                                                  ")},"66b8":function(e,t,a){},"72b5":function(e,t,a){"use strict";var r=a("dbe7"),s=a.n(r);s.a},"7b2b":function(e,t,a){"use strict";var r=a("dd9f"),s=a.n(r);s.a},"80f4":function(e,t,a){"use strict";var r=a("c1e6"),s=a.n(r);s.a},"88ef":function(e,t,a){},a23f:function(e,t,a){"use strict";var r=a("5047"),s=a.n(r);s.a},aa2e:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id="aa2e"},c1e6:function(e,t,a){},c517:function(e,t,a){},c69f:function(e,t,a){},d588:function(e,t,a){"use strict";var r=a("1608"),s=a.n(r);s.a},d6ee:function(e,t,a){},dbe7:function(e,t,a){},dd9f:function(e,t,a){},dfd6:function(e,t,a){"use strict";var r=a("467b"),s=a.n(r);s.a}});
//# sourceMappingURL=app.04f97533.js.map